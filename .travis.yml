language: python
python:
  - "3.6"
  - "3.5"
matrix:
  include:
    - python: 3.7
    dist: xenial
    sudo: true

# Make sure libsodium dependency is present
before_install:
  - wget https://download.libsodium.org/libsodium/releases/libsodium-1.0.16.tar.gz
  - tar -zxvf libsodium-1.0.16.tar.gz
  - cd libsodium-1.0.16
  - ./configure
  - make && make check
  - sudo make install
  - cd ..
  - sudo apt install gcc python-dev python3-dev libgmp3-dev

install:
  - pip install -e ../didery

# Run Tests
script:
  - pytest tests/ -vv